@mixin code-theme($tag-name) {
  #{$tag-name}[class*="language-"] {
    @extend %code;

    color: $textColor;
    background-color: $lightestBackground;
    text-align: left;
    white-space: pre;
    word-spacing: normal;
    word-break: normal;
    word-wrap: normal;
    tab-size: 4;
    hyphens: none;
    text-shadow: none;

    &::selection,
    & ::selection {
      text-shadow: none;
      background-color: $lightPrimaryBackground;
    }

    @media print {
      #{$tag-name}[class*="language-"] {
        text-shadow: none;
      }
    }
  }
}

@include code-theme(pre);
@include code-theme(code);

/* Code blocks */
// pre[class*="language-"] {
// 	padding: 1em;
// 	margin: .5em 0;
// 	overflow: auto;
// }
//
// :not(pre) > code[class*="language-"],
// pre[class*="language-"] {
// 	background: #f5f2f0;
// }

/* Inline code */
// :not(pre) > code[class*="language-"] {
// 	padding: .1em;
// 	border-radius: .3em;
// 	white-space: normal;
// }

.token {
  &.comment,
  &.prolog,
  &.doctype,
  &.cdata {
    color: $secondaryTextColor
  }

  &.punctuation {
    color: $infoMedium;
  }

  &.namespace {
    opacity: .7;
  }

  &.property,
  &.tag,
  &.boolean,
  &.number,
  &.constant,
  &.symbol,
  &.deleted {
    color: $errorMedium;
  }

  &.selector,
  &.attr-name,
  &.string,
  &.char,
  &.builtin,
  &.inserted {
    color: $successMedium;
  }

  &.operator,
  &.entity,
  &.url {
    color: $warningDark;
    background: $nurse;
  }

  &.atrule,
  &.attr-value,
  &.keyword {
  	color: $linkColor;
  }

  &.function {
    color: $errorMedium;
  }

  &.regex,
  &.important,
  &.variable {
    color: $warningMedium;
  }

  &.entity {
    cursor: help;
  }
}

.language-css,
.style {
  .token-string {
    color: $warningDark;
    background: $nurse;
  }
}
